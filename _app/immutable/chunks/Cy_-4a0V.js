import{ah as c,ai as l,b as o,$ as d,aj as _,n as f,J as g,g as p,t as v,ae as y,ak as S}from"./CeaG_wZn.js";import{s as T,g as h}from"./C7YxkhMj.js";function b(s,r){return s===r||s?.[_]===r}function M(s={},r,i,u){return c(()=>{var n,e;return l(()=>{n=e,e=[],o(()=>{s!==i(...e)&&(r(s,...e),n&&b(i(...n),s)&&r(null,...n))})}),()=>{d(()=>{e&&b(i(...e),s)&&r(null,...e)})}}),s}let a=!1,t=Symbol();function N(s,r,i){const u=i[r]??={store:null,source:g(void 0),unsubscribe:f};if(u.store!==s&&!(t in i))if(u.unsubscribe(),u.store=s??null,s==null)u.source.v=void 0,u.unsubscribe=f;else{var n=!0;u.unsubscribe=T(s,e=>{n?u.source.v=e:y(u.source,e)}),n=!1}return s&&t in i?h(s):p(u.source)}function O(){const s={};function r(){v(()=>{for(var i in s)s[i].unsubscribe();S(s,t,{enumerable:!1,value:!0})})}return[s,r]}function U(s){var r=a;try{return a=!1,[s(),a]}finally{a=r}}export{O as a,M as b,U as c,N as s};
